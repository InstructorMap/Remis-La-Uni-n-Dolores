<!DOCTYPE html>
<html>
<head>
    <title>üöñ Remis La Uni√≥n</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div id="root">
        <h1>Cargando...</h1>
    </div>

    <script>
        const SUPABASE_URL = 'https://tmccuhzqyfgjaerqydmr.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRtY2N1aHpxeWZnamFlcnF5ZG1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE1MjUxNTMsImV4cCI6MjA4NzEwMTE1M30.RZyzaN1a35DgNT4N70D5oxvFbliMoKcNgFc16C4zz9E';

        window.onload = function() {
            const root = document.getElementById('root');
            
            try {
                // 1. Verificar Supabase
                const supabase = supabaseJs.createClient(SUPABASE_URL, SUPABASE_KEY);
                
                // 2. Verificar auth actual
                supabase.auth.getUser().then(({ data, error }) => {
                    if (error) {
                        root.innerHTML = `
                            <div style="padding:20px">
                                <h2>üîê Login</h2>
                                <p>Error: ${error.message}</p>
                                <button onclick="login()">Login de prueba</button>
                            </div>
                        `;
                    } else {
                        root.innerHTML = `
                            <div style="padding:20px">
                                <h2>‚úÖ Conectado!</h2>
                                <p>Usuario: ${data.user?.email}</p>
                            </div>
                        `;
                    }
                });
                
                window.login = async () => {
                    const { error } = await supabase.auth.signInWithPassword({
                        email: 'test@test.com',
                        password: '123456'
                    });
                    if (error) alert('Error: ' + error.message);
                    else location.reload();
                };
                
            } catch(e) {
                root.innerHTML = `<h2 style="color:red">Error: ${e.message}</h2>`;
            }
        };
    </script>
</body>
</html>
